# 线程安全的单例模式





## 其他常见的各种锁

* 当多个线程同时访问临界资源时，需要对该临界区进行加锁保护，意味着每次只会有一个线程进入临界区，而其他线程需要挂起等待。其实还有另外一种方式处理其他不能进入临界区的线程。这些线程通过自旋（轮询）得知临界区是否访问完毕。而这些进程是挂起等待还是自旋取决于进入临界区的线程需要占用临界区的时间长短，占用长则选择鼓起等待，占用短选择轮询，而该时间长短并不能确定的知道，因此选择哪种方式取决于程序员。

![image-20230729152621616](https://non1.oss-cn-guangzhou.aliyuncs.com/write1/202307291526239.png)

### 读写锁



* 读写锁天然具有读者优先，写者饥饿问题 
* 写者优先： 写者到来时，写者可以限制之后来的读者，写者等之前来的读者读完后就能进入临界区了